<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PathSpace: PathSpace — New AI Onboarding</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PathSpace
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__2_users_2chrgre01_2src_2_path_space_2docs_2_a_i___onboarding___next.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">PathSpace — New AI Onboarding </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md87"></a></p>
<p><em>Last updated: October 21, 2025 (shutdown refresh)</em></p>
<p>Welcome! This repository just transitioned away from a previous assistant. The notes below get a fresh AI agent productive quickly while we stabilize the hand-off.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md88"></a>
1. Immediate Checklist</h1>
<ol type="1">
<li><b>Sync &amp; Branching</b><ul>
<li><span class="tt">git fetch origin</span></li>
<li>Create a topic branch from <span class="tt">origin/master</span> (<span class="tt">feat/&lt;topic&gt;</span> or <span class="tt">fix/&lt;topic&gt;</span> per Conventional Commits).</li>
</ul>
</li>
<li><b>Read-before-you-touch</b><ul>
<li><span class="tt"><a class="el" href="_a_i___a_r_c_h_i_t_e_c_t_u_r_e_8md.html">docs/AI_Architecture.md</a></span> (legacy, but now annotated with hand-off notes).</li>
<li><span class="tt"><a class="el" href="_plan___scene_graph___implementation_8md.html">docs/Plan_SceneGraph_Implementation.md</a></span> — check Phase 7 for the freshly completed Metal streaming work and remaining GPU milestones.</li>
<li><span class="tt">docs/AI_Todo.task</span> — verify priority ordering and align new work with open items.</li>
</ul>
</li>
<li><b>Build/Test Baseline</b> <div class="fragment"><div class="line">cmake -S . -B build -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">cmake --build build -j</div>
<div class="line">./scripts/compile.sh --loop=15 --per-test-timeout 20</div>
</div><!-- fragment --></li>
<li><b>Verify Environment Flags</b><ul>
<li><span class="tt">./scripts/compile.sh</span> now enables Metal presenter tests by default (builds with <span class="tt">PATHSPACE_UI_METAL=ON</span> and runs the Metal UITests). Use <span class="tt">--disable-metal-tests</span> only when the host lacks a compatible GPU.</li>
<li>Manual command line runs still respect <span class="tt">PATHSPACE_ENABLE_METAL_UPLOADS=1</span>; unset it when you explicitly want the software fallback.</li>
<li>Use <span class="tt">PATHSPACE_UI_DAMAGE_METRICS=1</span> only when collecting diagnostics; disable for perf runs.</li>
</ul>
</li>
<li><b>Quick Test Pass (recommended)</b> <div class="fragment"><div class="line">./build/tests/PathSpaceTests</div>
<div class="line">./build/tests/PathSpaceUITests</div>
<div class="line">./build/tests/PathSpaceUITests --test-case &quot;PathSurfaceMetal integrates with ObjC++ presenter harness&quot;</div>
</div><!-- fragment --> The targeted Metal UITest ensures the GPU bridge stays healthy after the latest ObjC++ harness updates.</li>
</ol>
<h1 class="doxsection"><a class="anchor" id="autotoc_md89"></a>
2. Current Priorities (October 21, 2025)</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Area  </th><th class="markdownTableHeadNone">Action  </th><th class="markdownTableHeadNone">Notes  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Metal renderer  </td><td class="markdownTableBodyNone">✅ Completed (October 20, 2025) — material/shader bindings now flow through the shared descriptor cache  </td><td class="markdownTableBodyNone"><span class="tt">PathRenderer2DMetal</span> covers rects, rounded rects, text quads, and images (see Phase 7); continue tracking glyph/material parity on the descriptor cache.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Diagnostics  </td><td class="markdownTableBodyNone">✅ Completed (October 20, 2025) — dashboards consume <span class="tt">textureGpuBytes</span>/<span class="tt">resourceGpuBytes</span> plus residency ratios/status under <span class="tt">diagnostics/metrics/residency</span>  </td><td class="markdownTableBodyNone">Coordinate with tooling owners before schema changes.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Input &amp; hit testing  </td><td class="markdownTableBodyNone">✅ Completed (October 21, 2025) — keyboard/gamepad focus navigation now rides the 15× UITest loop (<span class="tt">tests/ui/test_Builders.cpp</span>) alongside z-ordered hits, focus routing, and auto-render wake latency  </td><td class="markdownTableBodyNone">Continue monitoring wait/notify latency metrics; extend coverage when new interaction paths land.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Widgets  </td><td class="markdownTableBodyNone">✅ Completed (October 23, 2025) — widget bindings fuzz harness now exercises random pointer/keyboard flows, reducer drains, and action queue republish  </td><td class="markdownTableBodyNone">See <span class="tt">tests/ui/test_WidgetReducersFuzz.cpp</span> for the harness; keep doctest additions in sync when new widgets or op kinds land.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">HTML tooling  </td><td class="markdownTableBodyNone">✅ Completed (October 22, 2025) — quickstart/troubleshooting note in <span class="tt"><a class="el" href="_h_t_m_l___adapter___quickstart_8md.html">docs/HTML_Adapter_Quickstart.md</a></span>; extend harness coverage when new asset fields appear  </td><td class="markdownTableBodyNone">Legacy serializer removed; HSAT is mandatory.  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="autotoc_md90"></a>
3. Communication &amp; Handoff Hygiene</h1>
<ul>
<li>Annotate every modified doc with a short hand-off note (keep the pattern used during this transition).</li>
<li>Document open questions or blockers in the PR body and, when relevant, in <span class="tt"><a class="el" href="_plan___scene_graph___implementation_8md.html">docs/Plan_SceneGraph_Implementation.md</a></span>.</li>
<li>Use the local pre-push hook (<span class="tt">scripts/git-hooks/pre-push.local.sh</span>) or <span class="tt">SKIP_LOOP_TESTS=1</span> only with maintainer approval.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md91"></a>
4. Reference Index</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Document  </th><th class="markdownTableHeadNone">Purpose  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt"><a class="el" href="_a_i___a_r_c_h_i_t_e_c_t_u_r_e_8md.html">docs/AI_Architecture.md</a></span>  </td><td class="markdownTableBodyNone">Core PathSpace architecture (paths, trie, concurrency). Archived but cross-referenced.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt"><a class="el" href="_a_i___p_a_t_h_s_8md.html">docs/AI_Paths.md</a></span>  </td><td class="markdownTableBodyNone">Canonical path layout and namespace conventions.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt"><a class="el" href="_plan___scene_graph___renderer_8md.html">docs/Plan_SceneGraph_Renderer.md</a></span>  </td><td class="markdownTableBodyNone">Renderer and presenter plan, including snapshot semantics.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt"><a class="el" href="_plan___scene_graph___implementation_8md.html">docs/Plan_SceneGraph_Implementation.md</a></span>  </td><td class="markdownTableBodyNone">Phase tracker with latest renderer/diagnostics updates.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt"><a class="el" href="_a_i___debugging___playbook_8md.html">docs/AI_Debugging_Playbook.md</a></span>  </td><td class="markdownTableBodyNone">Loop test expectations, log locations, and diagnostics tooling.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">docs/AI_Todo.task</span>  </td><td class="markdownTableBodyNone">Structured backlog (P1/P2) with acceptance criteria.  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="autotoc_md92"></a>
5. Ready to Work?</h1>
<ul>
<li>Confirm the build/test loop passes locally (see the quick test pass above).</li>
<li>Align your planned work with an entry in <span class="tt">docs/AI_Todo.task</span> (add one if missing).</li>
<li>Announce the scope in your PR description and keep doc updates synchronized with code changes. Remember to run <span class="tt">ctest -R HtmlCanvasVerify</span> when touching the adapter or HTML outputs so the headless replay harness stays green.</li>
<li>When you spot a gap in test coverage, either add the test immediately or log a follow-up in <span class="tt"><a class="el" href="_plan___scene_graph___implementation_8md.html">docs/Plan_SceneGraph_Implementation.md</a></span> / <span class="tt">docs/AI_Todo.task</span> so the need is visible to the next maintainer.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md93"></a>
Latest Highlights (October 23, 2025)</h2>
<ul>
<li>Widget theme hot-swap coverage landed in <span class="tt">tests/ui/test_Builders.cpp</span> (“Widgets::WidgetTheme hot swap repaints button scenes and marks dirty”), exercising default vs sunset palettes in-place and confirming scene/state revisions update cleanly (15× loop, October 23, 2025).</li>
<li>Widget builders now publish canonical idle/hover/pressed/disabled scenes under <span class="tt">scenes/widgets/&lt;id&gt;/states/*</span>; live scenes republish automatically when state changes, and doctests cover the new snapshots (October 21, 2025).</li>
<li>Metal renderer is now material-aware: <span class="tt">PathRenderer2DMetal</span> consumes shared descriptors via <span class="tt">bind_material</span>, GPU frames stay in lock-step with software telemetry, and a new blending UITest asserts pipeline parity (<span class="tt">PathRenderer2DMetal honors material blending state</span>).</li>
<li>Scene hit testing now returns z-ordered hit stacks (<span class="tt">HitTestResult::hits</span>) with bounded drill-down via <span class="tt">HitTestRequest::max_results</span>; doctests cover overlap, clipping, and limit cases (October 21, 2025).</li>
<li>Widget focus navigation helpers (<span class="tt">Widgets::Focus</span>) maintain <span class="tt">widgets/focus/current</span>, toggle widget highlight states across button/toggle/slider/list types using <span class="tt">meta/kind</span>, and enqueue auto-render events for keyboard/gamepad traversal (October 21, 2025).</li>
<li>Widget UITests now render button/toggle/slider/list state goldens and replay hover/press/disabled sequences; <span class="tt">PATHSPACE_UPDATE_GOLDENS=1</span> refreshes the fixtures when intentional changes land (October 21, 2025).</li>
<li>UITest coverage exercises Tab/Shift+Tab and gamepad focus hops through the widget order, asserting focus state updates and <span class="tt">focus-navigation</span> auto-render scheduling in <span class="tt">tests/ui/test_Builders.cpp</span> (October 21, 2025).</li>
<li>Paint demo ships with a <span class="tt">--metal</span> flag that selects the Metal2D backend and auto-enables uploads for developers; software remains the default for CI.</li>
<li><span class="tt">./scripts/compile.sh</span> always builds with Metal support enabled and runs the Metal UITests unless <span class="tt">--disable-metal-tests</span> is passed. This keeps the GPU path green by default on macOS hosts.</li>
<li>HTML adapter parity tests landed, so DOM and canvas command streams stay lock-step with the renderer geometry.</li>
<li>Residency metrics are live under <span class="tt">diagnostics/metrics/residency/*</span>; dashboards now read the published ratios/status fields—extend telemetry when new counters appear.</li>
<li>Presenter telemetry mirrors into window diagnostics sinks under <span class="tt">windows/&lt;window&gt;/diagnostics/metrics/live/views/&lt;view&gt;/present</span>, so dashboards can ingest present stats without crawling renderer targets (October 21, 2025).</li>
<li>Widgets gallery supports keyboard focus (Tab/Shift+Tab) and logs reducer actions on every frame, making it easier to validate bindings without auxiliary tooling (October 21, 2025).</li>
<li>Hit-test auto-render scheduling now has latency coverage (<span class="tt">tests/ui/test_SceneHitTest.cpp</span>), ensuring the wait/notify path wakes within the 20–200 ms budget (October 21, 2025).</li>
<li>Widget binding helpers (<span class="tt">Widgets::Bindings::Dispatch{Button,Toggle,Slider,List}</span>) emit dirty rect hints, auto-schedule renders, and enqueue ops under <span class="tt">widgets/&lt;id&gt;/ops/inbox/queue</span> so reducers can react without republishing entire scenes.</li>
<li>List widget builder (<span class="tt">Builders::Widgets::CreateList</span>) plus <span class="tt">UpdateListState</span> and <span class="tt">DispatchList</span> land with doctest coverage, enabling selection/hover/scroll ops and expanding <span class="tt">widgets_example</span>.</li>
<li><span class="tt">Builders::App::Bootstrap</span> wires a renderer/surface/window + present policy for a scene in one call, trimming boilerplate in examples/tests (October 21, 2025).</li>
<li>Reducer helpers (<span class="tt">Widgets::Reducers::ReducePending</span>/<span class="tt">PublishActions</span>) drain widget ops into <span class="tt">ops/actions/inbox/queue</span>; widgets_example seeds a sample action and prints the reducer output.</li>
<li>Stroke rendering is now a first-class primitive: <span class="tt">DrawCommandKind::Stroke</span> serializes shared point buffers, <span class="tt">PathRenderer2D</span> rasterizes polylines, the HTML adapter/replay round-trip stroke data, and <span class="tt">paint_example</span> emits strokes instead of per-dab rects (October 21, 2025).</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md94"></a>
6. Shutdown Snapshot (October 23, 2025 @ 16:25 UTC)</h1>
<ul>
<li>Latest change: staged <span class="tt">test(widget): add theme hot swap coverage</span> on local <span class="tt">test/widget-theme-hotswap</span> (unpushed). New UITest exercises default vs sunset themes, checks metadata updates, and locks in scene/state revision bumps.</li>
<li>Validation: <span class="tt">ctest --test-dir build --output-on-failure -j --repeat-until-fail 15 --timeout 20</span> (15× PathSpaceTests, PathSpaceUITests, HtmlCanvasVerify, HtmlAssetInspect) — all green with Metal presenters enabled (October 23, 2025).</li>
<li>Outstanding follow-ups before resuming:<ol type="1">
<li>Add doctest/UITest coverage for <span class="tt">Builders::App::Bootstrap</span> so helper adoption stays guarded.</li>
<li>Capture the pixel-noise perf harness frame grab (<span class="tt">images/perf/pixel_noise.png</span>) now that the paired baselines are checked in.</li>
</ol>
</li>
<li>Local worktree clean after commit once the new test/doc updates land; no other unpublished edits.</li>
<li>Next session checklist:<ol type="1">
<li>Push <span class="tt">test/widget-theme-hotswap</span> (after review) and open PR targeting <span class="tt">master</span>.</li>
<li>Tackle the <span class="tt">Builders::App::Bootstrap</span> coverage gap, then capture and publish the pixel-noise perf frame grab.</li>
<li>Keep plan/onboarding/docs in sync with any additional widget coverage.</li>
</ol>
</li>
</ul>
<p>Welcome aboard and thank you for keeping the PathSpace docs in sync for the next AI maintainer. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
